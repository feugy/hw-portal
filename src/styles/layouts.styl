@require 'variables'

// Panel layout must fill maximum vertical space
body > .ember-view
.l-main-view
.l-panel-layout
.l-panel-wrap
  height 100%

.l-parallax
  perspective 1px
  transform-style preserve-3d
  height 100%
  overflow-y scroll
  overflow-x hidden
  background-color $primary-color

  *
    color $primary-inverted-color

  > .l-slide
    position relative
    padding 25vh 10%
    min-height 100vh
    width 100vw
    box-sizing border-box
    transform-style inherit

    &:before
      content ''
      position absolute
      top 0
      bottom 0
      left 0
      right 0

  > .l-slide
  > .l-slide:before
    background-position center center
    background-size cover
    background-repeat no-repeat

  > .background
    background-attachment fixed

  > .foreground:before
    transform translateZ(-1px) scale(1)
    -moz-transform translateZ(-1px) scale(2)
    z-index -1

.l-panel
  padding 1em

.l-nav
  display block
  text-align center

  > *:not(:first-child)
    margin-left 1rem

.l-menu

  > .l-title
    text-align center
    margin-bottom 0.5rem
    > h2
      color $primary-inverted-color

  .nav-link.active, .nav-link.active:hover
    position relative
    color $primary-inverted-color

    &:after
      content ''
      display block
      height 0
      width 0
      position absolute
      right 0
      top 0.5em
      border-top 1em solid transparent
      border-bottom 1em solid transparent
      border-right 1.5em solid $main-bg-color

.l-header
  background-color $primary-color
  padding 0.1rem 1rem

  > h2
    color $primary-inverted-color

// On small screen, only display the toggle menu button
.l-panel-wrap > .l-header
  background-color $primary-color
  position absolute
  z-index 1
  padding 0

  > .left-small
    height auto

    > .menu-icon
      height 3.2rem
