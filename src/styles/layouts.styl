@require 'variables'

// Panel layout must fill maximum vertical space
body > .ember-view
.l-main-view
.l-panel-layout
.l-panel-wrap
.l-panel
  height 100%

.l-parallax
  perspective 1px
  transform-style preserve-3d
  height 100%
  overflow-y scroll
  overflow-x hidden
  background-color $primary-color

  *
    color $primary-inverted-color

  > .l-slide
    position relative
    padding 25vh 10%
    min-height 100vh
    width 100vw
    box-sizing border-box
    transform-style inherit

    &:before
      content ''
      position absolute
      top 0
      bottom 0
      left 0
      right 0

  > .l-slide
  > .l-slide:before
    background-position center center
    background-size cover
    background-repeat no-repeat

  > .background
    background-attachment fixed

  > .foreground:before
    transform translateZ(-1px) scale(1)
    -moz-transform translateZ(-1px) scale(2)
    z-index -1

.l-nav
  display block
  text-align center

  > *:not(:first-child)
    margin-left 1rem

.l-scrollable
  height 100%
  overflow-y auto

.l-menu

  > .l-title
    text-align center
    margin-bottom 0.5rem
    > h2
      color $primary-inverted-color

    > .user-overlay
      position absolute
      top 252px
      left 1.5rem
      width 200px
      text-align left

      > *
        display inline-block
        margin 0

      > .pseudo
        color $primary-inverted-color
        padding 0 0.5rem
        width 63%
        text-overflow ellipsis
        overflow hidden

      > .logout
        bottom 4px

  > .l-menu-stats
    color $primary-inverted-color
    border 1px solid $third-color
    border-left none
    border-right none
    margin 0 1rem

    li
      box-sizing border-box
      padding-bottom 0
      font-size 1.2rem

      &:first-child
        text-align right

  .nav-link
    border none

    > .symbol
      font-size 1.5rem
      line-height 1rem
      margin 0 .5rem
      vertical-align -.2rem

  .nav-link.active, .nav-link.active:hover
    position relative
    color $primary-inverted-color

    &:after
      content ''
      display block
      height 0
      width 0
      position absolute
      right 0
      top 0.5em
      border-top 1em solid transparent
      border-bottom 1em solid transparent
      border-right 1.5em solid $main-bg-color

.l-header
  background-color $primary-color
  padding 0.1rem 1rem
  max-width 100%

  > h2
    color $primary-inverted-color
    font-size 1.7rem

// On small screen, only display the toggle menu button
.l-panel-wrap > .l-header
  background-color $primary-color
  position absolute
  z-index 1
  padding 0

  > .left-small
    height auto

    > .menu-icon
      height 3.2rem

.l-flow-grid > *
  display inline-block
  vertical-align top

.l-details-panel
  height 100%

  > .inner-wrap
    transition all 300ms
    height 100%

    > .l-main
      height 100%

    > .l-details
      padding 1rem
      background-color $third-color

      > .l-title
        margin -1rem -1rem 1rem
        padding 0.3rem 0.5rem 0.6rem
        font-size 1.7rem
        background-color $secondary-color
        color $secondary-inverted-color

        > .close
          color $secondary-inverted-color
